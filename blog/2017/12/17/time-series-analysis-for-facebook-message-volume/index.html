<!doctype html><html lang=en dir=ltr><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Time Series analysis for Facebook message volume | Boaz Sobrado's Website</title>
<meta name=generator content="Hugo Eureka 0.9.3"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@sobradob"><meta name=twitter:title content="Time Series analysis for Facebook message volume"><meta name=twitter:description content="Analysing my Facebook message volume between 2011 and 2016."><meta name=twitter:image content="https://boazsobrado.com/images/icon.png"><link rel=stylesheet href=https://boazsobrado.com/css/eureka.min.0459970152b745d13c7565ea2c6b0779808d795515dcf00ca28653fadbd12bed43035022f720718ed11fdffd5b4e7009.css><script defer src=https://boazsobrado.com/js/eureka.min.fa9a6bf6d7a50bb635b4cca7d2ba5cf3dfb095ae3798773f1328f7950028b48c17d06276594e1b5f244a25a6c969a705.js></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&amp;family=Noto+Serif+SC:wght@400;600;700&amp;display=swap" as=style onload='this.onload=null,this.rel="stylesheet"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/styles/base16/solarized-light.min.css media=print onload='this.media="all",this.onload=null' crossorigin><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/highlight.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/dart.min.js crossorigin></script><link rel=stylesheet href=https://boazsobrado.com/css/highlightjs.min.2958991528e43eb6fc9b8c4f2b8e052f79c4010718e1d1e888a777620e9ee63021c2c57ec7417a3108019bb8c41943e6.css media=print onload='this.media="all",this.onload=null'><script defer type=text/javascript src=https://boazsobrado.com/js/fontawesome.min.8f55fc818d6fce0446d0f57d11099812f13adb5a0b8eba42ebb0eb390415a166430395f8b6fa40eb7af6a7ec5a0bd89a.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css integrity=sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ media=print onload='this.media="all",this.onload=null' crossorigin><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js integrity=sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY crossorigin></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script><script defer src=https://cdn.jsdelivr.net/npm/mermaid@8.14.0/dist/mermaid.min.js integrity=sha384-atOyb0FxAgN9LyAc6PEf9BjgwLISyansgdH8/VXQH8p2o5vfrRgmGIJ2Sg22L0A0 crossorigin></script><link rel=icon type=image/png sizes=32x32 href=https://boazsobrado.com/images/icon_hu7218329538912979898.png><link rel=apple-touch-icon sizes=180x180 href=https://boazsobrado.com/images/icon_hu2088728335391844894.png><meta name=description content="Analysing my Facebook message volume between 2011 and 2016."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog","item":"https://boazsobrado.com/blog/"},{"@type":"ListItem","position":2,"name":"Time Series analysis for Facebook message volume","item":"https://boazsobrado.com/blog/2017/12/17/time-series-analysis-for-facebook-message-volume/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://boazsobrado.com/blog/2017/12/17/time-series-analysis-for-facebook-message-volume/"},"headline":"Time Series analysis for Facebook message volume | Boaz Sobrado\u0027s Website","datePublished":"2017-12-17T22:52:56+08:00","dateModified":"2017-12-17T22:52:56+08:00","wordCount":1704,"publisher":{"@type":"Person","name":"Boaz Sobrado","logo":{"@type":"ImageObject","url":"https://boazsobrado.com/images/icon.png"}},"description":"Analysing my Facebook message volume between 2011 and 2016."}</script><meta property="og:title" content="Time Series analysis for Facebook message volume | Boaz Sobrado's Website"><meta property="og:type" content="article"><meta property="og:image" content="https://boazsobrado.com/images/icon.png"><meta property="og:url" content="https://boazsobrado.com/blog/2017/12/17/time-series-analysis-for-facebook-message-volume/"><meta property="og:description" content="Analysing my Facebook message volume between 2011 and 2016."><meta property="og:locale" content="en"><meta property="og:site_name" content="Boaz Sobrado's Website"><meta property="article:published_time" content="2017-12-17T22:52:56+08:00"><meta property="article:modified_time" content="2017-12-17T22:52:56+08:00"><meta property="article:section" content="blog"><meta property="article:tag" content="R"><meta property="article:tag" content="Facebook"><meta property="og:see_also" content="https://boazsobrado.com/blog/2019/08/12/automating-my-business/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2019/01/13/where-i-was-in-2018/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2018/08/11/cubas-short-term-property-rental-market-2017-2018/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2018/08/11/how-to-generate-a-bitcoin-vanity-address-using-a-mac/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2018/02/08/leaflet-timeline-in-r/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2017/12/01/time-series-analysis-for-facebook-message-volume/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2017/08/29/implementing-a-kalman-filter-in-r-for-android-gps-measurements/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2017/08/18/costa-rican-saints/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2016/11/13/you-are-wasting-your-time-with-spreadsheets/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2016/10/29/how-to-get-your-facebook-messages-into-r/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2016/04/20/how-i-made-this-website-tutorial/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2015/11/05/using-google-maps-api-mol-bubi-competition/"><meta property="og:see_also" content="https://boazsobrado.com/blog/2015/10/20/do-stupid-people-make-more-spelling-mistakes-an-analysis-with-r./"><body class="flex min-h-screen flex-col"><header class="min-h-16 pl-scrollbar bg-secondary-bg fixed z-50 flex w-full items-center shadow-sm"><div class="mx-auto w-full max-w-screen-xl"><script>let storageColorScheme=localStorage.getItem("lightDarkMode");((storageColorScheme=="Auto"||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches||storageColorScheme=="Dark")&&document.getElementsByTagName("html")[0].classList.add("dark")</script><nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0"><a href=/ class="me-6 text-primary-text text-xl font-bold">Boaz Sobrado's Website</a>
<button id=navbar-btn class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
<i class="fas fa-bars"></i></button><div id=target class="hidden block md:flex md:grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20"><div class="md:flex md:h-16 text-sm md:grow pb-4 md:pb-0 border-b md:border-b-0"><a href=/#about class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">About</a>
<a href=/blog/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 selected-menu-item me-4">Blog</a>
<a href=/series/media class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">Media</a></div><div class=flex><div class="relative pt-4 md:pt-0"><div class="cursor-pointer hover:text-eureka" id=lightDarkMode><i class="fas fa-adjust"></i></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id=is-open></div><div class="absolute flex flex-col start-0 md:start-auto end-auto md:end-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40" id=lightDarkOptions><span class="px-4 py-1 hover:text-eureka" name=Light>Light</span>
<span class="px-4 py-1 hover:text-eureka" name=Dark>Dark</span>
<span class="px-4 py-1 hover:text-eureka" name=Auto>Auto</span></div></div></div></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id=is-open-mobile></div></nav><script>let element=document.getElementById("lightDarkMode");storageColorScheme==null||storageColorScheme=="Auto"?document.addEventListener("DOMContentLoaded",()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",switchDarkMode)}):storageColorScheme=="Light"?(element.firstElementChild.classList.remove("fa-adjust"),element.firstElementChild.setAttribute("data-icon","sun"),element.firstElementChild.classList.add("fa-sun")):storageColorScheme=="Dark"&&(element.firstElementChild.classList.remove("fa-adjust"),element.firstElementChild.setAttribute("data-icon","moon"),element.firstElementChild.classList.add("fa-moon")),document.addEventListener("DOMContentLoaded",()=>{getcolorscheme(),switchBurger()})</script></div></header><main class="grow pt-16"><div class=pl-scrollbar><div class="mx-auto w-full max-w-screen-xl lg:px-4 xl:px-8"><div class="grid grid-cols-2 gap-4 lg:grid-cols-8 lg:pt-12"><div class="bg-secondary-bg col-span-2 rounded px-6 py-8 lg:col-span-6"><article class=prose><h1 class=mb-4>Time Series analysis for Facebook message volume</h1><div class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"><div class="me-6 my-2"><i class="fas fa-calendar me-1"></i>
<span>2017-12-17</span></div><div class="me-6 my-2"><i class="fas fa-clock me-1"></i>
<span>8 min read</span></div><div class="me-6 my-2"><i class="fas fa-th-list me-1"></i>
<a href=https://boazsobrado.com/series/hacking/ class=hover:text-eureka>Hacking</a></div></div><h2 id=introduction-to-the-data-set>Introduction to the data set</h2><p>The data is the amount of Facebook messages a user (me) sent and received between 2011 and 2016. The data was exported from Facebook, converted from HTML to JSON and subsequently read into R. For more details on how this was done, please consult <a href=http://boazsobrado.com/blog/2016/10/29/how-to-get-your-facebook-messages-into-r/>here</a>.</p><p>The original data source contains 413,101 timestamps and messages between 2008 and 2016. The volume of messages is very low between 2008-2011, and highly atypical to the rest of the series, so it was not considered in the sample. An example is shown below:</p><table><thead><tr><th style=text-align:left>thread</th><th style=text-align:left>sender</th><th style=text-align:left>date</th><th style=text-align:left>message</th></tr></thead><tbody><tr><td style=text-align:left>Boaz Sobrado-Lolita Honich</td><td style=text-align:left>Boaz Sobrado</td><td style=text-align:left>2012-08-13 03:15:00</td><td style=text-align:left>kik nem hagynak? :D</td></tr></tbody></table><p>In order to create a suitable format for time series analysis, the <a href=https://edwinth.github.io/blog/padr-intro/>padr</a> package was used in order to fill in missing observations with null values and aggregate all timestamps into weekly measurements. Message volume is defined as the quantity of messages sent and received by the user.</p><pre><code>rawTs&lt;- df %&gt;%mutate(date = lubridate::with_tz(date,&quot;CET&quot;))%&gt;% # change the time zone
  thicken( interval = &quot;month&quot;) %&gt;% #creates a column with date_month
  group_by(date_week) %&gt;% # groups the date hour observations
  summarise(amount = n()) %&gt;% # counts the amount of messages sent or recieved
  pad %&gt;% # creates missing values for intervals where observations are missing
  fill_by_value(amount)%&gt;%   # fill missing values with 0
  as_tbl_time(date_month) %&gt;% # creating a new object class to ease time filtering
  time_filter(2011 ~ 2016) # filter to 2011-2016
</code></pre><p>Now the data is in a suitable format to create time series objects.A train set was created for the first three years, with a test set created for the final year. Both were adjusted to account for calendar effects.</p><pre><code>totalTs &lt;- ts(data = rawTs[,2],
                   start = c(2011,1),# start
                   end = c(2016,3), # end with the last month omitted
                   frequency =12  #months in a year
)
totalTs.adj &lt;- totalTs/monthdays(totalTs)
train.ts &lt;- window(totalTs.adj,
                  end = c(2015,2))
test.ts &lt;- window(totalTs.adj,start = c(2015,3),end = c(2016,3))
</code></pre><h2 id=exploration-of-data>Exploration of data</h2><p>It is evident before any exploration that we are limited by the relativly short duration of the time series at the monthly level and the fact that the message volume starts at 0. The formet indicates that the ability to forecast seasonal patterns may be limited and the latter contradicts the stationarity assumption. It would be preferable to have several decades of measurements. However, neither the author nor Facebook were around several decades ago, so we will have to proceed taking these limitations into account.</p><p>In order to gain an understanding of the data set exploratory plots of the training set were made. The most informative subset of these are displayed below. First we begin with a time series plot.</p><p><img src=#ZgotmplZ alt="Time series plot of the daily volume of message sent and recieved by the user. The dashed red line indicates the mean over the period."></p><p>Time series plot of the daily volume of message sent and recieved by the user. The dashed red line indicates the mean over the period.</p><p>The times series plot shows an upwards trend with a peak in 2012. There is a slight downwards trend, with a recovery towards the mean towards the end of the series. In addition, the variance does not seem to change significantly over time, although perhaps you could make the argument that there is less variance at the end and beginning of the series compared to the middle.</p><p><img src=#ZgotmplZ alt="Seasonal plot of the user&rsquo;s message volume. There are no obvious trends."></p><p>Seasonal plot of the user&rsquo;s message volume. There are no obvious trends.</p><p>In the plot above there are no obvious seasonal effects. There, for instance, dips around the last weeks of the year 2013 and 2012, but the exact opposite is observed in 2011 and 2014.</p><p>As an aside, the absense of seasonality is interesting because it depends entirely on the unit of measurement. If we take the same data but hourly instead of monthly, clear trends are visible with regards to the circadian rhythm.</p><p><img src=#ZgotmplZ alt="An exploratory seasonplot of hourly Facebook message volume for the first week of 2012."></p><p>An exploratory seasonplot of hourly Facebook message volume for the first week of 2012.</p><p>The inverted V-shaped trend is more visible in the month plot. This confirms the observation made that the volume of messages sent seems to increase and subsequently decrease.</p><p><img src=#ZgotmplZ alt="A month plot of the series. Here the downwards trend following an upwards trend is most evident for most months."></p><p>A month plot of the series. Here the downwards trend following an upwards trend is most evident for most months.</p><h2 id=exploring-possible-transformations>Exploring possible transformations</h2><p>Based on the exploration of the data, whereby the series was roughly horizontal, with relatively constant variance and no predictable patterns in the long term, I decided to check whether the weak stationarity property holds. I did this using the sample ACF plot, the Augmented Dickey-Fuller Test as well as the KPSS Test for Level Stationarity.</p><p><img src=#ZgotmplZ alt="Sample ACF and PACF plot of Facebook message volume."></p><p>Sample ACF and PACF plot of Facebook message volume.</p><pre><code>
  Augmented Dickey-Fuller Test

</code></pre><pre><code>##
  KPSS Test for Level Stationarity

</code></pre><p>The sample ACF plot does not indicate cleary stationarity and neither does the KPSS test, although the ADF test finds little evidence against non-stationarity. As these results are ambigous, differencing could be used to transform the data. Yet the <code>nsdiffs()</code> function returns 0 so no differencing was applied.</p><p>Another possible transformation would be a BoxCox transformation to stabilise the variance. Using the Guerrero method, the parameter for the transformation estimated was (\lambda) = 0.931537. The transformed time series is plotted below.</p><p><img src=#ZgotmplZ alt="Box-Cox transformed training test series."></p><p>Box-Cox transformed training test series.</p><p>I decided to not to apply this transformation as it does not change much and limits interpretability. Moreover, the <code>auto.arima()</code> and <code>ets()</code> functions evaluate whether to apply these transformations, so there was no need to apply them to the data beforehand.</p><h2 id=modelling>Modelling</h2><h3 id=choosing-a-benchmark-model>Choosing a benchmark model</h3><p>Two possible benchmark models would be the naive model and the mean forecast. Unsurprisingly, both of the models have unacceptable residuals, with significant autocorrelations in the ACF chart, and the Ljung-Box test rejecting the null hypothesis that they are not correlated.</p><pre><code>naiveModel &lt;- naive(train.ts,h = 12)
meanModel &lt;- meanf(train.ts,h = 12)
</code></pre><p>The graphical analyses of the residuals were omitted from the report, however both show substantial autocorrelation and the distribution of the residuals do not appear normal, as judged both visually and through the Ljung-Box test.</p><h3 id=arima-family>Arima family</h3><pre><code>mArima1&lt;- auto.arima(train.ts)
fa1 &lt;- forecast(mArima1,h = 12)
checkresiduals(mArima1)
</code></pre><p><img src=#ZgotmplZ alt></p><pre><code>
  Ljung-Box test

data:  Residuals from ARIMA(1,0,1) with zero mean
 Q* = 19.786, df = 22, p-value = 0.5965

</code></pre><p>Using the <code>auto.Arima()</code> function, I fitted an ARIMA model. This yields an ARIMA(1,0,1) model, which means that it is the combination of a first order autoregressive model ((\phi) = 0.98) with no differencing and a first order moving average ((\theta) = -0.57). This model seems reasonable given the sample ACF and PACF plots.</p><p>I considered adding a constant to the model, however that would lead to an overestimation of the long term trend of message volume. The zero mean assumption makes sense in that the limit of (\widehat{y}_{t+h|t}) would approach a constant determined by the last few observations.</p><p>The autocorrelation seems appropriate, although the residuals do diverge visually from normal in QQ-plots. Nonetheless, given the amount of data we have I will accept this model.</p><h3 id=ets-family>ETS Family</h3><pre><code>etsModel1 &lt;- ets(train.ts)
checkresiduals(etsModel1)+theme_tufte()
</code></pre><p><img src=#ZgotmplZ alt></p><pre><code>##
  Ljung-Box test

data:  Residuals from ETS(A,N,N)
 Q* = 19.59, df = 22, p-value = 0.6087

</code></pre><pre><code>## NULL
</code></pre><pre><code>fe1 &lt;- forecast(etsModel1,h = 12)
</code></pre><p>The model selected is (ETS(A,N,N)). The smoothing parameter is (\alpha=) 0.42. This means that the growth, seasonal states do not change from their initial values. There is no damping parameter. Again, the residuals do not seem to be perfectly normally distributted, but this is not entirely surprising given the shortness of the time series. I will be content with the fact that they are not significantly non-normally distributed.</p><p>In order to select a model from these two I use time series cross validation following Hyndman&rsquo;s <a href=http://otexts.org/fpp2/arima-vs-ets.html>example</a>.</p><pre><code>fets &lt;- function(x, h) {
  forecast(ets(x), h = h)
}

farima &lt;- function(x, h) {
  forecast(auto.arima(x), h=h)
}

e1 &lt;- tsCV(train.ts, fets, h=1)#Compute CV errors for ETS as e1

</code></pre><pre><code>## [1] 10710.59
</code></pre><pre><code>mean(e2^2, na.rm=TRUE)
</code></pre><pre><code>## [1] 14473.21
</code></pre><p>Given that the MSE for the ETS model is lower, I would choose to select that to forecast.</p><h2 id=model-evaluation>Model Evaluation</h2><p><img src=#ZgotmplZ alt></p><p>In the plot above, forecasts compared to the test set. The ETS model estimates along with confidence intervals are presented in green, the mean forecast without confidence intervals is presented in blue.</p><p>Model evaluation for tested models</p><table><thead><tr><th></th><th style=text-align:right>ME</th><th style=text-align:right>RMSE</th><th style=text-align:right>MAE</th><th style=text-align:right>MPE</th><th style=text-align:right>MAPE</th><th style=text-align:right>MASE</th><th style=text-align:right>ACF1</th><th style=text-align:right>Theil.s.U</th><th style=text-align:left>Method</th></tr></thead><tbody><tr><td>Training set</td><td style=text-align:right>1.71</td><td style=text-align:right>107.22</td><td style=text-align:right>73.41</td><td style=text-align:right>-10.92</td><td style=text-align:right>38.10</td><td style=text-align:right>0.49</td><td style=text-align:right>-0.45</td><td style=text-align:right>NA</td><td style=text-align:left>Naive</td></tr><tr><td>Test set</td><td style=text-align:right>87.17</td><td style=text-align:right>101.36</td><td style=text-align:right>91.99</td><td style=text-align:right>37.90</td><td style=text-align:right>43.63</td><td style=text-align:right>0.61</td><td style=text-align:right>-0.27</td><td style=text-align:right>0.97</td><td style=text-align:left>Naive</td></tr><tr><td>Training set1</td><td style=text-align:right>0.00</td><td style=text-align:right>119.91</td><td style=text-align:right>96.93</td><td style=text-align:right>-86.07</td><td style=text-align:right>113.14</td><td style=text-align:right>0.64</td><td style=text-align:right>0.58</td><td style=text-align:right>NA</td><td style=text-align:left>Mean</td></tr><tr><td>Test set1</td><td style=text-align:right>-16.27</td><td style=text-align:right>54.22</td><td style=text-align:right>41.29</td><td style=text-align:right>-18.93</td><td style=text-align:right>28.10</td><td style=text-align:right>0.27</td><td style=text-align:right>-0.27</td><td style=text-align:right>0.46</td><td style=text-align:left>Mean</td></tr><tr><td>Training set2</td><td style=text-align:right>16.91</td><td style=text-align:right>90.46</td><td style=text-align:right>66.85</td><td style=text-align:right>-2.89</td><td style=text-align:right>35.41</td><td style=text-align:right>0.44</td><td style=text-align:right>-0.07</td><td style=text-align:right>NA</td><td style=text-align:left>ARIMA(1,0,1)</td></tr><tr><td>Test set2</td><td style=text-align:right>57.43</td><td style=text-align:right>76.89</td><td style=text-align:right>67.39</td><td style=text-align:right>21.77</td><td style=text-align:right>33.61</td><td style=text-align:right>0.45</td><td style=text-align:right>-0.31</td><td style=text-align:right>0.79</td><td style=text-align:left>ARIMA(1,0,1)</td></tr><tr><td>Training set3</td><td style=text-align:right>6.32</td><td style=text-align:right>90.30</td><td style=text-align:right>67.82</td><td style=text-align:right>-10.81</td><td style=text-align:right>37.65</td><td style=text-align:right>0.45</td><td style=text-align:right>-0.05</td><td style=text-align:right>NA</td><td style=text-align:left>ETS(A,N,N)</td></tr><tr><td>Test set3</td><td style=text-align:right>30.60</td><td style=text-align:right>60.10</td><td style=text-align:right>49.22</td><td style=text-align:right>6.82</td><td style=text-align:right>26.81</td><td style=text-align:right>0.33</td><td style=text-align:right>-0.27</td><td style=text-align:right>0.63</td><td style=text-align:left>ETS(A,N,N)</td></tr></tbody></table><p>As expected, the ETS(A,N,N) model outperforms the ARIMA(1,0,1) model. However, using the test data we can see that none of the models perform particularly well. In fact, this seems to be one of those cases where the mean baseline model performs best in terms of RMSE.</p><h2 id=packages-used>Packages Used</h2><p>Arnold, Jeffrey B. 2017. <em>Ggthemes: Extra Themes, Scales and Geoms for &lsquo;Ggplot2&rsquo;</em>. <a href="https://cran.r-project.org/package=ggthemes"></a><a href="https://cran.r-project.org/package=ggthemes">https://CRAN.R-project.org/package=ggthemes</a>.</p><p>Aust, Frederik. 2016. <em>Citr: &lsquo;RStudio&rsquo; Add-in to Insert Markdown Citations</em>. <a href="https://cran.r-project.org/package=citr"></a><a href="https://cran.r-project.org/package=citr">https://CRAN.R-project.org/package=citr</a>.</p><p>Francois, Romain. 2017. <em>Bibtex: Bibtex Parser</em>. <a href="https://cran.r-project.org/package=bibtex"></a><a href="https://cran.r-project.org/package=bibtex">https://CRAN.R-project.org/package=bibtex</a>.</p><p>Grolemund, Garrett, and Hadley Wickham. 2011. &ldquo;Dates and Times Made Easy with lubridate.&rdquo; <em>Journal of Statistical Software</em> 40 (3): 1&ndash;25. <a href=http://www.jstatsoft.org/v40/i03/></a><a href=http://www.jstatsoft.org/v40/i03/>http://www.jstatsoft.org/v40/i03/</a>.</p><p>Hyndman, Rob J. 2017. <em>forecast: Forecasting Functions for Time Series and Linear Models</em>. <a href=http://pkg.robjhyndman.com/forecast></a><a href=http://pkg.robjhyndman.com/forecast>http://pkg.robjhyndman.com/forecast</a>.</p><p>Hyndman, Rob J, and Yeasmin Khandakar. 2008. &ldquo;Automatic Time Series Forecasting: The Forecast Package for R.&rdquo; <em>Journal of Statistical Software</em> 26 (3): 1&ndash;22. <a href=http://www.jstatsoft.org/article/view/v027i03></a><a href=http://www.jstatsoft.org/article/view/v027i03>http://www.jstatsoft.org/article/view/v027i03</a>.</p><p>R Core Team. 2017a. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href=https://www.r-project.org/></a><a href=https://www.r-project.org/>https://www.R-project.org/</a>.</p><p>&mdash;&mdash;&mdash;. 2017b. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href=https://www.r-project.org/></a><a href=https://www.r-project.org/>https://www.R-project.org/</a>.</p><p>Thoen, Edwin. 2017. <em>Padr: Quickly Get Datetime Data Ready for Analysis</em>. <a href="https://cran.r-project.org/package=padr"></a><a href="https://cran.r-project.org/package=padr">https://CRAN.R-project.org/package=padr</a>.</p><p>Vaughan, Davis, and Matt Dancho. 2017. <em>Tibbletime: Time Aware Tibbles</em>. <a href="https://cran.r-project.org/package=tibbletime"></a><a href="https://cran.r-project.org/package=tibbletime">https://CRAN.R-project.org/package=tibbletime</a>.</p><p>Wickham, Hadley. 2009. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href=http://ggplot2.org/></a><a href=http://ggplot2.org/>http://ggplot2.org</a>.</p><p>Xie, Yihui. 2014. &ldquo;Knitr: A Comprehensive Tool for Reproducible Research in R.&rdquo; In <em>Implementing Reproducible Computational Research</em>, edited by Victoria Stodden, Friedrich Leisch, and Roger D. Peng. Chapman; Hall/CRC. <a href=http://www.crcpress.com/product/isbn/9781466561595></a><a href=http://www.crcpress.com/product/isbn/9781466561595>http://www.crcpress.com/product/isbn/9781466561595</a>.</p><p>&mdash;&mdash;&mdash;. 2015. <em>Dynamic Documents with R and Knitr</em>. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. <a href=https://yihui.name/knitr/></a><a href=https://yihui.name/knitr/>https://yihui.name/knitr/</a>.</p><p>&mdash;&mdash;&mdash;. 2017. <em>Knitr: A General-Purpose Package for Dynamic Report Generation in R</em>. <a href=https://yihui.name/knitr/></a><a href=https://yihui.name/knitr/>https://yihui.name/knitr/</a>.</p></article><div class=my-4><a href=https://boazsobrado.com/tags/r/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 me-2 hover:text-eureka">#R</a>
<a href=https://boazsobrado.com/tags/facebook/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 me-2 hover:text-eureka">#Facebook</a></div><div class="-mx-2 mt-4 flex flex-col border-t px-2 pt-4 md:flex-row md:justify-between"><div><span class="text-primary-text block font-bold">Previous</span>
<a href=https://boazsobrado.com/blog/2018/02/08/leaflet-timeline-in-r/ class=block>Leaflet timeline in R</a></div><div class="mt-4 md:mt-0 md:text-right"><span class="text-primary-text block font-bold">Next</span>
<a href=https://boazsobrado.com/blog/2017/12/01/time-series-analysis-for-facebook-message-volume/ class=block>Time Series analysis for Facebook message volume</a></div></div></div><div class=col-span-2><div class="bg-secondary-bg prose max-w-none rounded p-6"><h3>Series of Posts</h3><a href=https://boazsobrado.com/blog/2019/08/12/automating-my-business/ class=no-underline>Automating my business</a><br><a href=https://boazsobrado.com/blog/2019/01/13/where-i-was-in-2018/ class=no-underline>Where I was in 2018</a><br><a href=https://boazsobrado.com/blog/2018/08/11/cubas-short-term-property-rental-market-2017-2018/ class=no-underline>Cuba’s short term property rental market 2017-2018</a><br><a href=https://boazsobrado.com/blog/2018/08/11/how-to-generate-a-bitcoin-vanity-address-using-a-mac/ class=no-underline>How to generate a Bitcoin vanity address using a Mac</a><br><a href=https://boazsobrado.com/blog/2018/02/08/leaflet-timeline-in-r/ class=no-underline>Leaflet timeline in R</a><br><a href=https://boazsobrado.com/blog/2017/12/17/time-series-analysis-for-facebook-message-volume/ class=no-underline>Time Series analysis for Facebook message volume</a><br><a href=https://boazsobrado.com/blog/2017/12/01/time-series-analysis-for-facebook-message-volume/ class=no-underline>Time Series analysis for Facebook message volume</a><br><a href=https://boazsobrado.com/blog/2017/08/29/implementing-a-kalman-filter-in-r-for-android-gps-measurements/ class=no-underline>Implementing a Kalman filter in R for Android GPS measurements</a><br><a href=https://boazsobrado.com/blog/2017/08/18/costa-rican-saints/ class=no-underline>Costa Rican Saints</a><br><a href=https://boazsobrado.com/blog/2016/11/13/you-are-wasting-your-time-with-spreadsheets/ class=no-underline>You are wasting your time with spreadsheets</a><br><a href=https://boazsobrado.com/blog/2016/10/29/how-to-get-your-facebook-messages-into-r/ class=no-underline>How to get your Facebook messages into R</a><br><a href=https://boazsobrado.com/blog/2016/04/20/how-i-made-this-website-tutorial/ class=no-underline>How I made this website - tutorial</a><br><a href=https://boazsobrado.com/blog/2015/11/05/using-google-maps-api-mol-bubi-competition/ class=no-underline>Using Google Maps API: Mol Bubi Competition</a><br><a href=https://boazsobrado.com/blog/2015/10/20/do-stupid-people-make-more-spelling-mistakes-an-analysis-with-r./ class=no-underline>Do stupid people make more spelling mistakes? An analysis with R.</a><br></div><div class="bg-primary-bg
prose sticky top-16 z-10 hidden px-6 py-4 lg:block"><h3>On This Page</h3></div><div class="sticky-toc hidden px-6 pb-6 lg:block"><nav id=TableOfContents><ul><li><a href=#introduction-to-the-data-set>Introduction to the data set</a></li><li><a href=#exploration-of-data>Exploration of data</a></li><li><a href=#exploring-possible-transformations>Exploring possible transformations</a></li><li><a href=#modelling>Modelling</a><ul><li><a href=#choosing-a-benchmark-model>Choosing a benchmark model</a></li><li><a href=#arima-family>Arima family</a></li><li><a href=#ets-family>ETS Family</a></li></ul></li><li><a href=#model-evaluation>Model Evaluation</a></li><li><a href=#packages-used>Packages Used</a></li></ul></nav></div><script>window.addEventListener("DOMContentLoaded",()=>{enableStickyToc()})</script></div><div class="bg-secondary-bg prose col-span-2 rounded p-6 lg:col-span-6"><h3>See Also</h3><a href=https://boazsobrado.com/blog/2016/10/29/how-to-get-your-facebook-messages-into-r/ class=no-underline>How to get your Facebook messages into R</a><br><a href=https://boazsobrado.com/blog/2017/12/01/time-series-analysis-for-facebook-message-volume/ class=no-underline>Time Series analysis for Facebook message volume</a><br><a href=https://boazsobrado.com/blog/2017/08/18/costa-rican-saints/ class=no-underline>Costa Rican Saints</a><br><a href=https://boazsobrado.com/blog/2017/05/22/bayesian-images/ class=no-underline>Bayesian Images</a><br><a href=https://boazsobrado.com/blog/2016/11/13/you-are-wasting-your-time-with-spreadsheets/ class=no-underline>You are wasting your time with spreadsheets</a><br><a href=https://boazsobrado.com/blog/2015/12/22/where-i-slept-in-2015/ class=no-underline>Where I slept in 2015</a><br></div></div><script>document.addEventListener("DOMContentLoaded",()=>{hljs.highlightAll()})</script></div></div></main><footer class=pl-scrollbar><div class="mx-auto w-full max-w-screen-xl"><div class="text-center p-6 pin-b"><p class="text-sm text-tertiary-text">&copy; 2024 <a href=https://www.boazsobrado.com/>Boaz Sobrado</a>
&#183; Powered by the <a href=https://github.com/wangchucheng/hugo-eureka class=hover:text-eureka>Eureka</a> theme for <a href=https://gohugo.io class=hover:text-eureka>Hugo</a></p></div></div></footer></body></html>